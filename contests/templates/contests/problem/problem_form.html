{% extends 'base.html' %}
{% load forms %}

{% block title %}
Задача
{% endblock title %}

{% block breadcrumbs %}
<ol class="breadcrumb">
    <li><a href="{% url 'contests:index' %}">Главная</a></li>
    <li><a href="{{ contest.course.get_absolute_url }}">{{ contest.course }}</a></li>
    <li><a href="{{ contest.get_absolute_url }}">{{ contest }}</a></li>
    {% if problem %}
    <li><a href="{{ problem.get_absolute_url }}">{{ problem }}</a></li>
    <li class="active">Редактирование</li>
    {% else %}
    <li class="active">Новая задача</li>
    {% endif %}
</ol>
{% endblock breadcrumbs %}

{% block content %}
<legend>{% if problem %}Редактирование{% else %}Добавление{% endif %} задачи</legend>
<form action="" method="post" enctype="multipart/form-data" class="form-horizontal">
    {% csrf_token %}
    {% render_errors form %}
    {% with WIDGET_RENDER_TO_TEMPLATE="field.html" offset="3" width="9" %}
    {% render_field form.title class+="form-control" %}
    {% render_field form.description class+="form-control" rows="5" cols="20" %}
    {% render_field form.difficulty class+="form-control selectpicker" %}
    {% render_field form.language class+="form-control selectpicker" %}
    {% render_field form.compile_args class+="form-control" %}
    {% render_field form.launch_args class+="form-control" %}
    {% render_field form.time_limit class+="form-control" %}
    {% render_field form.memory_limit class+="form-control" %}
    {% render_field form.is_testable class+="form-control" %}
    {% render_field form.files class+="form-control" %}
    {% endwith %}
    {% render_button value="Сохранить" %}
</form>
{% endblock content %}
