{% extends 'base_wide.html' %}
{% load views contests %}

{% block title %}
Курсы
{% endblock title %}

{% block breadcrumbs %}
{% breadcrumb "Главная" 'contests:index' %}
{% breadcrumb "Курсы" %}
{% endblock breadcrumbs %}

{% block content %}
<legend>
    Курсы
    {% if perms.contests.add_course %}
    <a href="{% url 'contests:course-create' %}" class="text-success text-decoration-none pull-right" data-toggle="tooltip" data-placement="left" title="Добавить курс"><i class="fa fa-plus fa-fw"></i></a>
    {% endif %}
</legend>
{% if request.user.account.is_instructor %}
{% if courses %}
<div class="table-responsive mb-3">
    <table class="table">
        <thead>
            <th>Название</th>
            <th class="text-center">Средняя оценка</th>
            <th class="text-center">Сложность</th>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td style="vertical-align: middle;"><a href="{{ course.get_absolute_url }}" class="mr-auto text-truncate">{{ course }}</a></td>
                <td class="text-center" style="vertical-align: middle; width: 14%;">
                    <span class="text-{{ course.avg_credit_score|colorize_course_avg_score }}"><strong>{{ course.avg_credit_score }}</strong></span>
                </td>
                <td class="text-center" style="vertical-align: middle; width: 14%;">
                    <span class="numtus status-{{ course.difficulty|colorize_course_difficulty }}">{{ course.difficulty|course_difficulty }}</span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info mb-3" role="alert">
    Курсы еще не добавлены
</div>
{% endif %}
{% else %}
{% include 'list.html' with lst=courses warn_if_empty="Курсы еще не добавлены" %}
{% endif %}
{% endblock content %}
